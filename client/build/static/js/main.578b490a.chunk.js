(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{270:function(e,t,a){e.exports=a(496)},275:function(e,t,a){},496:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),i=a.n(r),o=(a(275),a(11)),c=a(9),s=a(13),u=a(14),d=a(15),m=(a(78),a(170),a(7)),p=a(16),g=a.n(p),h=function(e,t,a){return g.a.post("/api/auth/signup",{username:e,email:t,password:a}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},y=function(e,t){return g.a.post("/api/auth/login",{email:e,password:t}).then((function(e){return console.log("login api? :",e),e.data})).catch((function(e){return e.response.data}))},E=function(){return g.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data}))},b=a(535),v=a(582),f=a(544),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={message:"",password:"",username:"",email:""},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(m.a)({},n,l))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,l=t.email,r=t.password;console.log(a.state.username),h(n,l,r).then((function(e){console.log("signup?",e.message),window.confirm(e.message),e.message?a.setState({message:e.message,password:"",username:"",email:""}):(console.log(a.props.history),a.props.history.push("/"))}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"signup"},l.a.createElement(b.a,{variant:"outlined"},l.a.createElement(v.a,{label:"username",id:"outlined-username-input-signup",type:"text",margin:"normal",name:"username",variant:"outlined",autoComplete:"username",value:this.state.username,onChange:this.handleChange}),l.a.createElement(v.a,{label:"email",id:"outlined-email-input-signup",type:"email",margin:"normal",name:"email",variant:"outlined",autoComplete:"email",value:this.state.email,onChange:this.handleChange}),l.a.createElement(v.a,{label:"password / min. 8char",id:"outlined-password-input-signup",type:"password",margin:"normal",name:"password",variant:"outlined",autoComplete:"password",value:this.state.password,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"password"},"*password must contain",l.a.createElement("br",null),"Capital letter and number"),l.a.createElement(f.a,{variant:"outlined",onClick:this.handleSubmit},"SIGN UP")))}}]),t}(n.Component),j=l.a.createContext(),w=j.Provider,O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={password:"",email:""},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(m.a)({},n,l)),console.log("email:",a.state.email),console.log("password:",a.state.password)},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,l=t.password;console.log(a.state.password),y(n,l).then((function(e){console.log("login?react?",e),e.message?a.setState({password:"",email:""}):(console.log("haha",a.context),a.props.setUser(e),a.props.history.push("/dashboard"))}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"login"},l.a.createElement(b.a,{variant:"outlined"},l.a.createElement(v.a,{label:"email",id:"outlined-email-input-login",type:"email",margin:"normal",name:"email",variant:"outlined",autoComplete:"email",value:this.state.email,onChange:this.handleChange}),l.a.createElement(v.a,{label:"password / min. 8char",id:"outlined-password-input-login",type:"password",margin:"normal",name:"password",variant:"outlined",autoComplete:"password",value:this.state.password,onChange:this.handleChange}),l.a.createElement(f.a,{variant:"outlined",onClick:this.handleSubmit},"LOG IN")))}}]),t}(n.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("video",{id:"bgVideo",loop:!0,autoPlay:!0},l.a.createElement("source",{src:"https://storage.coverr.co/videos/Big-City-Life?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6IjExNDMyN0NEOTRCMUFCMTFERTE3IiwiaWF0IjoxNTcwNzAxNjI0fQ.v6u1pHcxWVoP-cfZp6xOFozFodMHrua3E5SzF9fcTr0",type:"video/mp4"}),"Your browser does not support the video tag."),l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"contents_inner"},l.a.createElement("div",{id:"titleimg"},l.a.createElement("img",{src:"../../logo1.png",alt:"logo"})),l.a.createElement("h2",null,"i need small text here")),l.a.createElement("section",{className:"loginbox"},l.a.createElement("div",{className:"logincontainer"},l.a.createElement(C,this.props),l.a.createElement(O,this.props)),l.a.createElement("div",{id:"logImg"},l.a.createElement("img",{src:"../../logo3.png",alt:"logo"})))))}}]),t}(n.Component),U=function(){return l.a.createElement("div",null,"Opps! this page dosent exist...!! ")},P=a(23),D=a(18),S=a(22),k=a(540),N=a(576),A=a(546),I=a(73),_=a(587),F=a(547),q=a(4),M=a(66),T=a(35),B=a(575),R=function(e){var t;return t={card:{maxWidth:100},root:{width:500,margin:50},filterContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},Object(m.a)(t,"root",{height:180}),Object(m.a)(t,"container",{display:"flex"}),Object(m.a)(t,"paper",{margin:e.spacing(1)}),Object(m.a)(t,"svg",{width:100,height:100}),Object(m.a)(t,"polygon",{fill:e.palette.common.white,stroke:e.palette.divider,strokeWidth:1}),t},L=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=R;return l.a.createElement("div",{tyle:{margin:"auto"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"spaceEvenly",width:"650px",margin:"auto"}},l.a.createElement(v.a,{label:"search",id:"outlined-name-input",type:"search",margin:"normal",className:e.textField,name:"searchText",variant:"outlined",autoComplete:"search",value:this.props.searchText,onChange:this.props.handleChange}),l.a.createElement("div",{style:{display:"flex",paddingTop:"20px",justifyContent:"space-around"}},l.a.createElement(k.a,{htmlFor:"outlined-location-simple"},"Location"),l.a.createElement(N.a,{value:this.props.searchCity,onChange:this.props.handleChange,inputProps:{name:"searchCity",id:"searchCity"}},l.a.createElement(A.a,{value:""},l.a.createElement("em",null,"None")),this.props.distinctCity.map((function(e){return l.a.createElement(A.a,{value:e},e)}))),l.a.createElement(k.a,{htmlFor:"outlined-category-simple"},"Category"),l.a.createElement(N.a,{value:this.props.searchCategory,onChange:this.props.handleChange,inputProps:{name:"searchCategory",id:"searchCategory"}},l.a.createElement(A.a,{value:""},l.a.createElement("em",null,"None")),this.props.distinctCategory.map((function(e){return l.a.createElement(A.a,{value:e},e)}))),l.a.createElement(k.a,{htmlFor:"outlined-brand-simple"},"Brand name"),l.a.createElement(N.a,{value:this.props.searchBrand,onChange:this.props.handleChange,inputProps:{name:"searchBrand",id:"searchBrand"}},l.a.createElement(A.a,{value:""},l.a.createElement("em",null,"None")),this.props.distinctBrand.map((function(e){return l.a.createElement(A.a,{value:e},e)})))),l.a.createElement("div",{className:e.root,style:{display:"flex",paddingTop:"20px"}},l.a.createElement(I.a,{id:"range-slider",gutterBottom:!0},"Price range"),l.a.createElement("br",null),l.a.createElement(_.a,{name:"priceValue",value:this.props.priceValue,onChange:this.props.handlePriceChange,valueLabelDisplay:"auto","aria-labelledby":"range-slider",max:this.props.maxPrice})),l.a.createElement("div",{className:e.root,style:{display:"flex",paddingBottom:"40px"}},l.a.createElement(T.a,{utils:M.a},l.a.createElement(F.a,{container:!0,justify:"space-around"},l.a.createElement(B.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Filter by availability",name:"selectedDate",value:this.props.selectedDate,onChange:this.props.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}}))))))}}]),t}(n.Component),W=Object(q.a)(R)(L),z=a(553),G=a(134),V=a(249),Q=l.a.createContext(),J=Q.Provider,K=a(47);var X=Object(K.withScriptjs)(Object(K.withGoogleMap)((function(e){var t=Object(n.useState)(null),a=Object(D.a)(t,2),r=a[0],i=a[1];return console.log("testttt",e),Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&i(null)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(K.GoogleMap,{style:{width:"100%",height:"100%"},defaultZoom:4,defaultCenter:{lat:-34,lng:150}},e.filteredProduct.map((function(e){return l.a.createElement(K.Marker,{key:e._id,position:{lat:e.location.latitude,lng:e.location.longitude},onClick:function(){i(e)},icon:{url:"/map-marker-alt-solid.svg",scaledSize:new window.google.maps.Size(25,25)}})})),r&&l.a.createElement(K.InfoWindow,{onCloseClick:function(){i(null)},position:{lat:r.location.latitude,lng:r.location.longitude}},l.a.createElement("div",null,l.a.createElement("h2",null,r.title),l.a.createElement("p",null,r.price),l.a.createElement("p",null,r.quantity)))))})));function Y(e){return console.log(e),l.a.createElement("div",null,l.a.createElement(X,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyAEEpqstn15A1q4yFwIv81jnDVG7X0hm9Q",loadingElement:l.a.createElement("div",{style:{height:"100%"}}),containerElement:l.a.createElement("div",{style:{height:"400px"}}),mapElement:l.a.createElement("div",{style:{height:"500px",width:"800px"}}),filteredProduct:e.filteredProduct}))}var Z=function(e){return{card:{maxWidth:300},mapListContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center"},listPageContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},button:{},input:{display:"none"}}},H=a(552),$=a(554),ee=a(555),te=a(556),ae=a(557),ne=a(558),le=a(580),re=a(559),ie=a(560);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ce=Object(q.a)(Z)((function(e){var t=Object(n.useContext)(j).user,a=Object(n.useContext)(Q),r=a.products,i=a.updateProductData,o=Object(n.useState)({searchText:"",searchCategory:"",searchBrand:"",searchCity:""}),c=Object(D.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)([20,300]),p=Object(D.a)(d,2),h=p[0],y=p[1],E=Object(n.useState)(new Date("December 31, 2019")),b=Object(D.a)(E,2),v=b[0],f=b[1],C=Object(n.useState)(!1),w=Object(D.a)(C,2),O=(w[0],w[1]),x=Object(n.useState)(!1),U=Object(D.a)(x,2),k=U[0],N=U[1],A=function(e){O(e.target.checked);var t=e.target.value;e.target.checked?g.a.put("/api/products/wish/add/".concat(t)).then((function(e){console.log(e.data);var t=r.map((function(t){return t._id===e.data._id?e.data:t}));i(t)})):g.a.put("/api/products/wish/remove/".concat(t)).then((function(e){var t=r.map((function(t){return t._id===e.data._id?e.data:t}));i(t)}))},_=Z(),F=Object(P.a)(new Set(r.map((function(e){return e.category})))),q=Object(P.a)(new Set(r.map((function(e){return e.brand})))),M=Object(P.a)(new Set(r.map((function(e){return e.location&&e.location.city})))),T=r.filter((function(e){var t=!1===e.isSold,a=e.title.toLowerCase().includes(s.searchText.toLowerCase())||e.tags.find((function(e){return e.toLowerCase().includes(s.searchText.toLowerCase())})),n=e.category.toLowerCase().includes(s.searchCategory.toLowerCase()),l=e.price>=h[0]&&e.price<=h[1],r=Date.parse(e.availability)<=Date.parse(v);return t&&a&&n&&l&&r}));return l.a.createElement("div",{className:_.listPageContainer,style:{textAlign:"center"}},l.a.createElement("h2",null,"search the products"),l.a.createElement(W,{searchText:s.searchText,searchCategory:s.searchCategory,searchBrand:s.searchBrand,searchCity:s.searchCity,priceValue:h,selectedDate:v,handleChange:function(e){var t=e.target,a=t.name,n=t.value;u(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},s,Object(m.a)({},a,n)))},distinctCategory:F,distinctBrand:q,distinctCity:M,handleDateChange:function(e){f(e)},handlePriceChange:function(e,t){y(t)}}),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},l.a.createElement(H.a,{control:l.a.createElement(z.a,{name:"switch",checked:k,onChange:function(e){N(e.target.checked)}}),label:"check the map"}),l.a.createElement("div",{className:_.container},l.a.createElement(V.a,{in:k},l.a.createElement(G.a,{elevation:4,className:_.paper},l.a.createElement(Y,{filteredProduct:T}))))),l.a.createElement("div",{style:{marginTop:"200px",marginLeft:"10px"}},l.a.createElement("div",{className:_.mapListContainer},l.a.createElement("div",null,T.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement($.a,{className:_.card,style:{width:"350px",color:"white"}},l.a.createElement(ee.a,null,l.a.createElement(te.a,{component:"img",alt:e.title,height:"350",image:"".concat(e.imageUrl[0]),title:e.title}),l.a.createElement(ae.a,null,l.a.createElement(S.b,{to:"/products/".concat(e._id)},l.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.title)),l.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.description," ",l.a.createElement("br",null),e.currency," ",e.price))),l.a.createElement(ne.a,null,l.a.createElement(H.a,{control:l.a.createElement(le.a,{icon:l.a.createElement(re.a,null),checkedIcon:l.a.createElement(ie.a,null),value:e._id,checked:e.wishlist.some((function(e){return e._id===t._id})),onChange:A}),label:"Add to Wishlist"})),console.log(e.wishlist.some((function(e){return e._id===t._id})),e.wishlist,t._id)))}))))))})),se=(n.Component,a(234)),ue=a(578),de=a(42),me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleLogout=function(e){e.preventDefault(),E().then((function(){a.context.setUser(null),console.log(a.props),a.props.history.push("/")}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{variant:"outlined",onClick:this.handleLogout},"logout"))}}]),t}(n.Component);me.contextType=j;var pe=Object(de.g)(me),ge=a(543),he=a(562),ye=a(499),Ee=a(238),be=a.n(Ee),ve=a(561),fe=a(239),Ce=a.n(fe),je=a(240),we=a.n(je),Oe=a(241),xe=a.n(Oe);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Pe=Object(se.a)({list:{width:250},fullList:{width:"auto"}}),De=Object(de.g)((function(e){var t,a=Pe(),n=l.a.useState({right:!1}),r=Object(D.a)(n,2),i=r[0],o=r[1],c=function(e,t){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&o(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i,Object(m.a)({},e,t)))}};return l.a.createElement("div",{className:"naVbar"},l.a.createElement(xe.a,{className:"naVbarButton",fontSize:"large",color:"primary",onClick:c("right",!0)}),l.a.createElement(ue.a,Object.assign({anchor:"right",open:i.right,onClose:c("right",!1),onOpen:c("right",!0)},e),(t="right",l.a.createElement("div",{className:a.list,role:"presentation",onClick:c(t,!1),onKeyDown:c(t,!1)},l.a.createElement(ge.a,null,l.a.createElement(ye.a,null,l.a.createElement(S.b,{to:"/dashboard",style:{color:"#616161",textDecoration:"none"}},l.a.createElement(be.a,null),"My Dashboard",l.a.createElement(ve.a,null))),l.a.createElement(ye.a,null,l.a.createElement(S.b,{to:"/products",style:{color:"#616161",textDecoration:"none"}},l.a.createElement(Ce.a,null),"Find Products",l.a.createElement(ve.a,null)))),l.a.createElement(he.a,null),l.a.createElement(ge.a,null,l.a.createElement(ye.a,null,l.a.createElement(we.a,null),l.a.createElement(pe,null),l.a.createElement(ve.a,null)))))))})),Se=a(551),ke=a(497),Ne=a(588),Ae=a(579),Ie=a(242),_e=a.n(Ie),Fe=a(102),qe=a.n(Fe);qe.a.setApiKey("AIzaSyAEEpqstn15A1q4yFwIv81jnDVG7X0hm9Q"),qe.a.enableDebug();var Me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={center:{lat:a.props.center.lat,lng:a.props.center.lng}},a.getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_1"===e[t].types[0])return e[t].long_name},a.getCountry=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"country"===e[t].types[0])return e[t].long_name},a.onPlaceSelected=function(e){if(console.log(e),e.formatted_address){var t=e.formatted_address,n=e.address_components,l=a.getCity(n),r=a.getCountry(n),i=e.geometry.location.lat(),o=e.geometry.location.lng();a.props.getMapData(t,l,r,i,o)}else qe.a.fromAddress(e.name).then((function(e){console.log(e);var t=e.results[0],n=t.formatted_address,l=t.address_components,r=a.getCity(l),i=a.getCountry(l),o=t.geometry.location.lat,c=t.geometry.location.lng;a.props.getMapData(n,r,i,o,c)})).then((function(e){console.log(e)}))},a.onMarkerDrag=function(e){console.log(e);var t=e.latLng.lat(),n=e.latLng.lng();qe.a.fromLatLng(t,n).then((function(e){var l=e.results[0].formatted_address,r=e.results[0].address_components,i=a.getCity(r),o=a.getCountry(r);a.props.getMapData(l,i,o,t,n)})).catch((function(e){console.log(e)}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){var e=this,t=Object(K.withScriptjs)(Object(K.withGoogleMap)((function(t){return l.a.createElement(K.GoogleMap,{google:e.props.google,defaultZoom:e.props.zoom,center:{lat:e.props.mapPosition.lat,lng:e.props.mapPosition.lng}},l.a.createElement(K.Marker,{google:e.props.google,name:e.props.address,draggable:!0,onDragEnd:e.onMarkerDrag,position:{lat:e.props.markerPosition.lat,lng:e.props.markerPosition.lng}}),l.a.createElement(K.Marker,null),l.a.createElement(_e.a,{style:{width:"100%",height:"40px",paddingLeft:"16px",marginTop:"2px",marginBottom:"100px"},onPlaceSelected:e.onPlaceSelected}))})));return void 0!==this.props.center.lat?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAEEpqstn15A1q4yFwIv81jnDVG7X0hm9Q&libraries=places",loadingElement:l.a.createElement("div",{style:{height:"100%",width:"1000px"}}),containerElement:l.a.createElement("div",{style:{height:this.props.height,width:"1000px"}}),mapElement:l.a.createElement("div",{style:{height:"100%",width:"1000px"}})}),l.a.createElement("p",null,this.props.address))):l.a.createElement("div",{style:{height:this.props.height}})}}]),t}(n.Component),Te=g.a.create({baseURL:"http://localhost:5555/api"}),Be=function(e){throw console.error(e),e},Re={service:Te,handleUpload:function(e){return console.log("Image in service: ",e),Te.post("/cloudinary/new/upload",e).then((function(e){return console.log(e),e.data})).catch(Be)},saveNewImage:function(e){return console.log("New Image saved: ",e),Te.post("/new",e).then((function(e){return e.data})).catch(Be)},updateImage:function(e){return console.log("New Image saved: ",e),Te.put("/edit",e).then((function(e){return e.data})).catch(Be)}},Le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",description:"",imageUrl:[],brand:"",category:"",quantity:0,price:0,currency:"EUR",tags:[],company:"",location:{latitude:52.52,longitude:13.405,city:"",address:"",country:""},markerPosition:{lat:52.52,lng:13.405},availability:null,warrantyUntil:null,condition:"",isSold:!1,createdAt:null},a.getData=function(){var e=a.props.match.params.id;g.a.get("/api/products/".concat(e)).then((function(e){a.setState({title:e.data.title,description:e.data.description,imageUrl:e.data.imageUrl,brand:e.data.brand,category:e.data.category,quantity:e.data.quantity,price:e.data.price,currency:e.data.currency,tags:e.data.currency,company:e.data.company,availability:e.data.availability,warrantyUntil:e.data.warrantyUntil,condition:e.data.condition,createdAt:e.data.createdAt})})).catch((function(e){console.log("ERR",e.response),404===e.response.status&&a.setState({error:"Not found"})}))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.match.params.id;console.log(t),g.a.put("/api/products/edit/".concat(t),{title:a.state.title,description:a.state.description,imageUrl:a.state.imageUrl,brand:a.state.brand,tags:a.state.tags,category:a.state.category,quantity:a.state.quantity,price:a.state.price,currency:a.state.currency,company:a.state.company,latitude:a.state.location.latitude,longitude:a.state.location.longitude,city:a.state.location.city,address:a.state.location.address,country:a.state.location.country,availability:a.state.availability,warrantyUntil:a.state.warrantyUntil,condition:a.state.condition,createdAt:a.state.created_at}).then((function(e){console.log("[AddProduct.js] handleSubmit event starting..."),a.setState({title:"",description:"",imageUrl:[],brand:"",category:"",quantity:0,price:0,currency:"EUR",tags:[],company:"",location:{latitude:null,longitude:null,city:"",address:"",country:""},availability:null,warrantyUntil:null,condition:"",createdAt:null}),console.log("[EditProduct.js] response.data:",e.data)})).catch((function(e){console.log("ERROR editing product",e)}))},a.handleDateChange=function(e){a.setState({availability:e}),console.log("availability:",e)},a.handleDateChangeWarrantyUntil=function(e){a.setState({warrantyUntil:e}),console.log("warrantyUntil:",e)},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(m.a)({},n,l)),console.log("handleChange event.target.value",e.target.value)},a.handleImageUpload=function(e){console.log("The Image to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),Re.handleUpload(t).then((function(e){console.log(e),a.setState({imageUrl:[].concat(Object(P.a)(a.state.imageUrl),[e.secure_url])})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},a.getMapData=function(e,t,n,l,r){a.setState({location:{latitude:l,longitude:r,city:n,address:e,country:t},markerPosition:{lat:l,lng:r}})},a.componentDidMount=function(){a.getData()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Object(se.a)((function(e){return{button:{margin:e.spacing(1)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},input:{display:"none"},dense:{marginTop:e.spacing(2)},menu:{width:200},root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));return console.log("PROPS BEFORE RENDER",this.state),l.a.createElement("div",null,l.a.createElement("h1",null,"Edit Product"),l.a.createElement(b.a,{onSubmit:this.handleSubmit},l.a.createElement(v.a,{required:!0,id:"outlined-title-input",label:"Title",className:e.textField,type:"text",name:"title",placeholder:"e.g. Nestl\xe9 D1234 Coffee Maker",autoComplete:"title",margin:"normal",variant:"outlined",value:this.state.title,onChange:this.handleChange}),l.a.createElement(v.a,{id:"outlined-description-input",label:"Description",className:e.textField,type:"text",name:"description",autoComplete:"description",margin:"normal",variant:"outlined",value:this.state.description,onChange:this.handleChange}),l.a.createElement(v.a,{id:"outlined-brand-input",label:"Brand",className:e.textField,type:"text",name:"brand",placeholder:"e.g. Apple",autoComplete:"brand",margin:"normal",variant:"outlined",value:this.state.brand,onChange:this.handleChange}),l.a.createElement(b.a,{variant:"outlined",className:e.formControl},l.a.createElement(k.a,{htmlFor:"outlined-category-simple"},"Category"),l.a.createElement(N.a,{value:this.state.category,onChange:this.handleChange,inputProps:{name:"category",id:"outlined-category-simple"}},l.a.createElement(A.a,{value:"Category"},l.a.createElement("em",null,"Select...")),l.a.createElement(A.a,{value:"Food"},"Food"),l.a.createElement(A.a,{value:"Textile"},"Textile"),l.a.createElement(A.a,{value:"Energy"},"Energy"),l.a.createElement(A.a,{value:"Architecture"},"Architecture"),l.a.createElement(A.a,{value:"Woodwork"},"Woodwork"),l.a.createElement(A.a,{value:"Art"},"Art"),l.a.createElement(A.a,{value:"Economics"},"Economics"),l.a.createElement(A.a,{value:"Science"},"Science"),l.a.createElement(A.a,{value:"Education"},"Education"),l.a.createElement(A.a,{value:"Manufactory"},"Manufactory"))),l.a.createElement(v.a,{required:!0,id:"outlined-quantity-input",label:"Quantity",className:e.textField,type:"number",name:"quantity",autoComplete:"quantity",margin:"normal",variant:"outlined",value:this.state.quantity,onChange:this.handleChange}),l.a.createElement(v.a,{id:"outlined-adornment-price",label:"Price",className:e.textField,type:"number",name:"price",margin:"normal",variant:"outlined",value:this.state.price,onChange:this.handleChange,InputProps:{startAdornment:l.a.createElement(Se.a,{position:"start"},"EUR")}}),l.a.createElement(v.a,{id:"outlined-company-input",label:"Company Name",className:e.textField,type:"text",name:"company",placeholder:"IchiBizz Inc",autoComplete:"company",margin:"normal",variant:"outlined",value:this.state.company,onChange:this.handleChange}),l.a.createElement(v.a,{disabled:!0,id:"outlined-location",label:"Location",className:e.textField,type:"text",name:"address",placeholder:"e.g. Berlin",margin:"normal",variant:"outlined",value:this.state.location.address,onChange:this.getMapData}),l.a.createElement(T.a,{utils:M.a},l.a.createElement(F.a,{container:!0,justify:"space-around"},l.a.createElement(B.a,{disableToolbar:!0,name:"availability",variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Availability Date",value:this.state.availability,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"Change Date"}}))),l.a.createElement(T.a,{utils:M.a},l.a.createElement(F.a,{container:!0,justify:"space-around"},l.a.createElement(B.a,{disableToolbar:!0,name:"warrantyUntil",variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Warranty until",value:this.state.warrantyUntil,onChange:this.handleDateChangeWarrantyUntil,KeyboardButtonProps:{"aria-label":"Change Date"}}))),l.a.createElement(b.a,{required:!0,component:"fieldset",className:e.formControl},l.a.createElement(ke.a,{component:"legend"},"Condition"),l.a.createElement(Ne.a,{"aria-label":"condition",name:"condition",value:this.state.condition,onChange:this.handleChange},l.a.createElement(H.a,{value:"used",control:l.a.createElement(Ae.a,null),label:"used",name:"condition"}),l.a.createElement(H.a,{value:"new",control:l.a.createElement(Ae.a,null),label:"new",name:"condition"}))),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"imageUrl"},"Upload Image "),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("br",null),l.a.createElement(f.a,{type:"submit",variant:"outlined",className:e.button,onClick:this.handleSubmit,noValidate:!0},"Update")),l.a.createElement(Me,{google:this.props.google,center:{lat:52.52,lng:13.405},height:"300px",zoom:12,getMapData:this.getMapData,markerPosition:{lat:this.state.markerPosition.lat,lng:this.state.markerPosition.lng},address:this.state.location.address,country:this.state.location.country,city:this.state.location.city,mapPosition:{lat:this.state.location.latitude,lng:this.state.location.longitude}}))}}]),t}(n.Component),We=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",description:"",imageUrl:[],brand:"",category:"",quantity:0,price:0,currency:"EUR",tags:[],company:"",location:{latitude:null,longitude:null},availability:null,warrantyUntil:null,condition:"",isSold:!1,createdAt:null,_id:"",requested:[]},a.getData=function(){var e=a.props.match.params.id;g.a.get("/api/products/".concat(e)).then((function(e){console.log("resopnse",e),a.setState({title:e.data.title,description:e.data.description,imageUrl:e.data.imageUrl,brand:e.data.brand,category:e.data.category,quantity:e.data.quantity,price:e.data.price,currency:e.data.currency,tags:e.data.currency,company:e.data.company,availability:e.data.availability,warrantyUntil:e.data.warrantyUntil,condition:e.data.condition,createdAt:e.data.createdAt,requested:e.data.requested,_id:e.data._id})})).catch((function(e){console.log(e)}))},a.componentDidMount=function(){a.getData()},a.handleClick=function(e){console.log("handle id",e),g.a.put("api/products/request/".concat(e)).then((function(t){console.log("request response",t);var n=a.context.products.map((function(a){return e===t.data._id?t.data:a}));a.context.updateProductData(n)}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=(t.id,t.title),n=t.description,r=t.imageUrl,i=t.brand,o=t.category,c=t.quantity,s=t.price,u=(t.currency,t.tags),d=t.company,m=t.availability,p=t.warrantyUntil,g=t.condition,h=t.isSold,y=t.createdAt,E=t._id,b=t.requested;return console.log("requested",b,"title",a),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"productDetailImg",style:{margin:"3% 0"}},l.a.createElement("div",{style:{margin:"0 25%"}},r&&r.map((function(e){return l.a.createElement("img",{src:e,alt:"business img",style:{height:"200px",margin:"2%"}})}))),l.a.createElement($.a,{style:{width:"50%",margin:"0 25%"}},l.a.createElement(ae.a,null,l.a.createElement(I.a,{variant:"h5",component:"h2"},a),l.a.createElement(I.a,{color:"textSecondary"},i),l.a.createElement(I.a,{variant:"body2",component:"p"},n),l.a.createElement(I.a,{variant:"body2",component:"p"},"Quantity: ",c),l.a.createElement(I.a,{variant:"body2",component:"p"},"Price:",s),l.a.createElement(I.a,{variant:"body2",component:"p"},"Category:",o),l.a.createElement(I.a,{variant:"body2",component:"p"},"Tags:",u),l.a.createElement(I.a,{variant:"body2",component:"p"},"Company: ",d),l.a.createElement(I.a,{variant:"body2",component:"p"},"Availability: ",m),l.a.createElement(I.a,{variant:"body2",component:"p"},"Warranty until: ",p),l.a.createElement(I.a,{variant:"body2",component:"p"},"Condition: ",g))),l.a.createElement("div",null,h,y),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"1% 10%"}},l.a.createElement(S.b,{to:"products/edit/".concat(E),style:{textDecoration:"none",margin:"0 2%"}},l.a.createElement(f.a,{variant:"contained"},"Edit Details")),l.a.createElement(j.Consumer,null,(function(t){return console.log("requested",b),console.log("id",E),console.log("session user id",t),b.some((function(e){return e===t.user._id}))?l.a.createElement(f.a,{variant:"contained",color:"primary",disabled:!0},"Request Sent"):l.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){return e.handleClick(E)}},"Send Request")})))))}}]),t}(n.Component);We.contextType=Q;var ze=We,Ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",description:"",imageUrl:[],brand:"",category:"",quantity:0,price:0,currency:"EUR",tags:[],company:"",location:{latitude:52.52,longitude:13.405,city:"",address:"",country:""},markerPosition:{lat:52.52,lng:13.405},availability:null,warrantyUntil:null,condition:"",createdAt:null},a.handleSubmit=function(e){e.preventDefault(),console.log(a.state),g.a.post("/api/products/new",{title:a.state.title,description:a.state.description,imageUrl:a.state.imageUrl,brand:a.state.brand,tags:a.state.tags,category:a.state.category,quantity:a.state.quantity,price:a.state.price,currency:a.state.currency,company:a.state.company,latitude:a.state.location.latitude,longitude:a.state.location.longitude,city:a.state.location.city,address:a.state.location.address,country:a.state.location.country,availability:a.state.availability,warrantyUntil:a.state.warrantyUntil,condition:a.state.condition,createdAt:a.state.created_at}).then((function(e){console.log("[AddProduct.js] handleSubmit event starting..."),console.log("latitude",a.state.location.latitude),a.setState({title:"",description:"",imageUrl:[],brand:"",category:"",quantity:0,price:0,currency:"EUR",tags:[],company:"",location:{latitude:null,longitude:null,city:"",address:"",country:""},availability:null,warrantyUntil:null,condition:"",createdAt:null}),console.log("[AddProduct.js] response.data:",e.data),a.props.history.push("/dashboard")})).catch((function(e){console.log("[AddProduct.js]: response data",e)}))},a.handleDateChange=function(e){a.setState({availability:e}),console.log("availability:",e)},a.handleDateChangeWarrantyUntil=function(e){a.setState({warrantyUntil:e}),console.log("warrantyUntil:",e)},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(m.a)({},n,l)),console.log("handleChange event.target.value",e.target.value)},a.handleImageUpload=function(e){console.log("The Image to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),Re.handleUpload(t).then((function(e){console.log(e),a.setState({imageUrl:[].concat(Object(P.a)(a.state.imageUrl),[e.secure_url])})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},a.getMapData=function(e,t,n,l,r){a.setState({location:{latitude:l,longitude:r,city:n,address:e,country:t},markerPosition:{lat:l,lng:r}})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Object(se.a)((function(e){return{button:{margin:e.spacing(1),backgroundColor:"yellow"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},input:{display:"none"},dense:{marginTop:e.spacing(2)},menu:{width:200},root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"content"},l.a.createElement("h2",null,"creating your post"),l.a.createElement(b.a,{onSubmit:this.handleSubmit},l.a.createElement(v.a,{required:!0,id:"outlined-title-input",label:"Title",className:e.textField,type:"text",name:"title",placeholder:"e.g. Nestl\xe9 D1234 Coffee Maker",autoComplete:"title",margin:"normal",variant:"outlined",value:this.state.title,onChange:this.handleChange}),l.a.createElement(v.a,{id:"outlined-description-input",label:"Description",className:e.textField,type:"text",name:"description",autoComplete:"description",margin:"normal",variant:"outlined",value:this.state.description,onChange:this.handleChange}),l.a.createElement(v.a,{id:"outlined-brand-input",label:"Brand",className:e.textField,type:"text",name:"brand",placeholder:"e.g. Apple",autoComplete:"brand",margin:"normal",variant:"outlined",value:this.state.brand,onChange:this.handleChange}),l.a.createElement("h3",null,"category"),l.a.createElement(N.a,{value:this.state.category,onChange:this.handleChange,inputProps:{name:"category",id:"outlined-category-simple"}},l.a.createElement(A.a,{value:"Category"},l.a.createElement("em",null,"Select...")),l.a.createElement(A.a,{value:"Food"},"Food"),l.a.createElement(A.a,{value:"Textile"},"Textile"),l.a.createElement(A.a,{value:"Energy"},"Energy"),l.a.createElement(A.a,{value:"Architecture"},"Architecture"),l.a.createElement(A.a,{value:"Woodwork"},"Woodwork"),l.a.createElement(A.a,{value:"Art"},"Art"),l.a.createElement(A.a,{value:"Economics"},"Economics"),l.a.createElement(A.a,{value:"Science"},"Science"),l.a.createElement(A.a,{value:"Education"},"Education"),l.a.createElement(A.a,{value:"Manufactory"},"Manufactory"))),l.a.createElement(v.a,{required:!0,id:"outlined-quantity-input",label:"Quantity",className:e.textField,type:"number",name:"quantity",autoComplete:"quantity",margin:"normal",variant:"outlined",value:this.state.quantity,onChange:this.handleChange}),l.a.createElement(v.a,{id:"outlined-adornment-price",label:"Price",className:e.textField,type:"number",name:"price",margin:"normal",variant:"outlined",value:this.state.price,onChange:this.handleChange,InputProps:{startAdornment:l.a.createElement(Se.a,{position:"start"},"EUR")}}),l.a.createElement(v.a,{id:"outlined-company-input",label:"Company Name",className:e.textField,type:"text",name:"company",placeholder:"IchiBizz Inc",autoComplete:"company",margin:"normal",variant:"outlined",value:this.state.company,onChange:this.handleChange}),l.a.createElement(v.a,{disabled:!0,id:"outlined-location",label:"Location/seach on the google map",className:e.textField,type:"text",name:"address",placeholder:"e.g. Berlin",margin:"normal",variant:"outlined",value:this.state.location.address}),l.a.createElement("div",{className:"contentGmap"},l.a.createElement(Me,{className:"googlemap",google:this.props.google,center:{lat:52.52,lng:13.405},height:"300px",zoom:12,getMapData:this.getMapData,markerPosition:{lat:this.state.markerPosition.lat,lng:this.state.markerPosition.lng},address:this.state.location.address,country:this.state.location.country,city:this.state.location.city,mapPosition:{lat:this.state.location.latitude,lng:this.state.location.longitude}}))),l.a.createElement("div",{className:"contentAfter"},l.a.createElement(T.a,{utils:M.a},l.a.createElement(F.a,{container:!0,justify:"space-around"},l.a.createElement(B.a,{disableToolbar:!0,name:"availability",variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Availability Date",value:this.state.availability,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"Change Date"}}))),l.a.createElement(T.a,{utils:M.a},l.a.createElement(F.a,{container:!0,justify:"space-around"},l.a.createElement(B.a,{disableToolbar:!0,name:"warrantyUntil",variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Warranty until",value:this.state.warrantyUntil,onChange:this.handleDateChangeWarrantyUntil,KeyboardButtonProps:{"aria-label":"change date"}}))),l.a.createElement(b.a,{required:!0,component:"fieldset",className:e.formControl},l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("h3",null,"condition")),l.a.createElement(Ne.a,{"aria-label":"condition",name:"condition",label:"condition",value:this.state.condition,onChange:this.handleChange,style:{display:"flex",jusifyContent:"center",alignItems:"center",margin:"auto"}},l.a.createElement(H.a,{value:"used",control:l.a.createElement(Ae.a,null),label:"used",name:"condition"}),l.a.createElement(H.a,{value:"new",control:l.a.createElement(Ae.a,null),label:"new",name:"condition"}))),l.a.createElement("div",{className:"contentImgfile"},l.a.createElement("label",{htmlFor:"imageUrl"},"Upload Image: "),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.handleImageUpload}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(b.a,null,l.a.createElement(f.a,{type:"submit",variant:"outlined",className:e.button,onClick:this.handleSubmit,noValidate:!0},"Create"),l.a.createElement("p",null)))))}}]),t}(n.Component),Ve=a(572),Qe=a(577),Je=a(573),Ke=Object(se.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},requesterRoot:{flexGrow:1,width:"100%",marginTop:e.spacing(3),overflowX:"auto",maxWidth:500,margin:"2%",padding:"2%"},table:{minWidth:700},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},requesterContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap"}}})),Xe=a(2),Ye=a(563),Ze=a(564),He=a(565),$e=a(566),et=a(567),tt=a(568),at=a(586),nt=a(248),lt=a(585),rt=a(548),it=a(569),ot=a(549),ct=a(243),st=a.n(ct),ut=a(245),dt=a.n(ut),mt=a(159),pt=a.n(mt),gt=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(""),c=Object(D.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(5),m=Object(D.a)(d,2),p=m[0],h=m[1],y=Object(n.useState)(0),E=Object(D.a)(y,2),b=E[0],v=E[1],C=Object(n.useContext)(j),w=Object(n.useContext)(Q),O=w.products,x=w.updateProductData,U=function(){i(!1)},P=Ke(),k=O.filter((function(e){return e.seller._id===C.user._id}));return l.a.createElement(l.a.Fragment,null,console.log(O),l.a.createElement("h2",{style:{textAlign:"center"}},"Your Products"),l.a.createElement(S.b,{to:"/products/new",style:{textDecoration:"none"}},l.a.createElement(Ye.a,{color:"secondary",variant:"extended","aria-label":"add-product",className:"addProductBtn",style:{margin:" 0 43%"}},l.a.createElement(st.a,{className:P.extendedIcon,style:{textAlign:"center"}}),"Add Product")),l.a.createElement(G.a,{className:"soldProductContainer"},l.a.createElement(Ze.a,null,l.a.createElement(He.a,null,l.a.createElement($e.a,null,l.a.createElement(et.a,null),l.a.createElement(et.a,null,"Title"),l.a.createElement(et.a,null,"Quantity"),l.a.createElement(et.a,null,"Price"),l.a.createElement(et.a,null,"Status"),l.a.createElement(et.a,null),l.a.createElement(et.a,null))),l.a.createElement(tt.a,null,k.slice(b*p,b*p+p).map((function(e){return l.a.createElement($e.a,null,l.a.createElement(et.a,null,l.a.createElement("img",{style:{height:"100px"},src:"".concat(e.imageUrl[0]),alt:"product-image"})),l.a.createElement(et.a,null,l.a.createElement(S.b,{to:"/products/".concat(e._id)},e.title)),l.a.createElement(et.a,null,e.quantity),l.a.createElement(et.a,null,e.price),l.a.createElement(et.a,null,e.isSold?"Sold":"Available"),l.a.createElement(et.a,null,l.a.createElement(at.a,{title:"Edit"},l.a.createElement(nt.a,{"aria-label":"edit"},l.a.createElement(S.b,{to:"/products/".concat(e._id)},l.a.createElement(dt.a,null))))),l.a.createElement(et.a,null,l.a.createElement(at.a,{title:"Delete"},l.a.createElement(nt.a,{"aria-label":"delete"},l.a.createElement(pt.a,{onClick:function(){return t=e._id,i(!0),void u(t);var t}})))))})))),l.a.createElement(lt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:k.length,rowsPerPage:p,page:b,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,t){v(t)},onChangeRowsPerPage:function(e){var t=+e.target.value;h(t),v(0)}})),l.a.createElement(rt.a,{open:r,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(it.a,{id:"alert-dialog-title"},"Are you sure you want to delete this product?"),l.a.createElement(ot.a,null,l.a.createElement(f.a,{onClick:U,color:"primary"},"Cancel"),l.a.createElement(f.a,{onClick:function(){g.a.delete("/api/products/".concat(s)).then((function(e){u("");var t=O.filter((function(e){return e._id!==s}));x(t),U()}))},color:"primary",autoFocus:!0},"Delete"))))},ht=l.a.createContext(),yt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={users:[]},a.getUserData=function(){g.a.get("/api/users").then((function(e){console.log(e),a.setState({users:e.data})})).catch((function(e){console.log(e)}))},a.componentDidMount=function(){a.getUserData()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.state.users),l.a.createElement(ht.Provider,{value:{state:this.state,getUserData:this.getUserData}},this.props.children)}}]),t}(n.Component),Et=function(e){var t=Object(n.useContext)(j),a=(Object(n.useContext)(ht),Object(n.useContext)(Q)),r=a.products,i=a.updateProductData,o=function(e){var t=e.target.value,a=t.indexOf("#"),n=t.slice(0,a),l=t.slice(a+1);r.forEach((function(t){t._id===n&&g.a.put("api/products/sell/".concat(n),{isSold:e.target.checked,buyer:l}).then((function(e){var t=r.map((function(t){return t._id===e.data._id?e.data:t}));i(t)}))}))},c=r.filter((function(e){return e.seller._id===t.user._id&&e.requested.length>0}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{style:{textAlign:"center"}},"Requests to buy"),l.a.createElement("div",{className:"requestContainer",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap"}},c.map((function(e){return console.log("buyer",e.buyer),l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a,{style:{width:"500px",height:"300px"}},l.a.createElement("img",{style:{height:"100px",textAlign:"center",margin:"6% 30% 0 30%"},src:"".concat(e.imageUrl[0]),alt:"product-image"}),l.a.createElement("div",{style:{padding:"8%"}},l.a.createElement(I.a,{variant:"h5",component:"h3"},e.title),l.a.createElement(I.a,{variant:"h6",component:"h3"},"Price: EUR ",e.price,", Quantity: ",e.quantity),l.a.createElement(I.a,{component:"p"},l.a.createElement(Ze.a,null,l.a.createElement(tt.a,null,e.requested.map((function(t){return l.a.createElement(l.a.Fragment,null,e.buyer?e.buyer._id===t._id?l.a.createElement($e.a,null,l.a.createElement(et.a,null,e.buyer.firstName," ",e.buyer.lastName),l.a.createElement(et.a,null," ",e.buyer.email),l.a.createElement(et.a,null,"Sold",l.a.createElement(le.a,{disabled:!0,checked:!0,value:e._id,inputProps:{"aria-label":"sales checkbox"}}))):l.a.createElement($e.a,null,l.a.createElement(et.a,null,t.firstName," ",t.lastName),l.a.createElement(et.a,null,t.email),l.a.createElement(et.a,null,"Sold",l.a.createElement(le.a,{disabled:!0,value:e._id,inputProps:{"aria-label":"sales checkbox"}}))):l.a.createElement($e.a,null,l.a.createElement(et.a,null,t.firstName," ",t.lastName),l.a.createElement(et.a,null,t.email),l.a.createElement(et.a,null,"Sell",l.a.createElement(le.a,{checked:e.isSold,onChange:o,value:"".concat(e._id,"#").concat(t._id),inputProps:{"aria-label":"sales checkbox"}}))))}))))))))}))))},bt=function(e){e.children;var t=e.value,a=e.index;Object(Xe.a)(e,["children","value","index"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{component:"div",role:"tabpanel",hidden:t!==a,id:"seller-tabpanel-".concat(a),"aria-labelledby":"seller-tabpanel"},l.a.createElement(gt,null),l.a.createElement(Et,null)))},vt=a(246),ft=a.n(vt),Ct=function(e){console.log("props",e);var t=Object(n.useContext)(j),a=Object(n.useContext)(Q),r=a.products,i=a.updateProductData,o=Object(n.useState)(!1),c=Object(D.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(""),m=Object(D.a)(d,2),p=m[0],h=m[1],y=Object(n.useState)(5),E=Object(D.a)(y,2),b=E[0],v=E[1],C=Object(n.useState)(0),w=Object(D.a)(C,2),O=w[0],x=w[1],U=function(){u(!1)},P=r.filter((function(e){return e.wishlist.some((function(e){return e._id===t.user._id}))}));return console.log("product",r),console.log("wishlist",P),console.log("user id",t.user._id),l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{style:{textAlign:"center"}},"Your Wishlist"),l.a.createElement(G.a,{className:"soldProductContainer"},l.a.createElement(Ze.a,null,l.a.createElement(He.a,null,l.a.createElement($e.a,null,l.a.createElement(et.a,null),l.a.createElement(et.a,null,"Title"),l.a.createElement(et.a,null,"Quantity"),l.a.createElement(et.a,null,"Price"),l.a.createElement(et.a,null,"Status"),l.a.createElement(et.a,null))),l.a.createElement(tt.a,null,P.slice(O*b,O*b+b).map((function(e){return l.a.createElement($e.a,{key:e._id},l.a.createElement(et.a,null,l.a.createElement("img",{style:{height:"100px"},src:"".concat(e.imageUrl[0]),alt:"product-image"})),l.a.createElement(et.a,null,l.a.createElement(S.b,{to:"/products/".concat(e._id)},e.title)),l.a.createElement(et.a,null,e.quantity),l.a.createElement(et.a,null,e.price),l.a.createElement(et.a,null,e.isSold?"Sold":"Available"),l.a.createElement(et.a,null,l.a.createElement(at.a,{title:"Remove"},l.a.createElement(nt.a,{"aria-label":"remove"},l.a.createElement(ft.a,{onClick:function(){return t=e._id,u(!0),void h(t);var t}})))))})))),l.a.createElement(lt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:P.length,rowsPerPage:b,page:O,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,t){x(t)},onChangeRowsPerPage:function(e){var t=+e.target.value;v(t),x(0)}})),l.a.createElement(rt.a,{open:s,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(it.a,{id:"alert-dialog-title"},"Are you sure you want to remove from Wishlist?"),l.a.createElement(ot.a,null,l.a.createElement(f.a,{onClick:U,color:"primary"},"Cancel"),l.a.createElement(f.a,{onClick:function(){var e=p;g.a.put("/api/products/wish/remove/".concat(e)).then((function(t){h(""),U();var a=r.filter((function(t){return t._id!==e}));i(a)}))},color:"primary",autoFocus:!0},"Remove"))))},jt=a(581),wt=a(570),Ot=a(571),xt=a(247),Ut=a.n(xt),Pt=function(e){var t=Object(n.useContext)(j),a=Object(n.useContext)(Q),r=a.products,i=(a.updateProductData,r.filter((function(e){return!!e.buyer&&e.buyer._id===t.user._id})));console.log("buyer filered",i);var o=Ke();return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{style:{textAlign:"center"}},"Your Orders"),i.map((function(e){return l.a.createElement(jt.a,{style:{margin:"1% 5%"}},l.a.createElement(wt.a,{expandIcon:l.a.createElement(Ut.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},l.a.createElement(I.a,{className:o.heading},e.title)),l.a.createElement(Ot.a,null,l.a.createElement(I.a,null,l.a.createElement("img",{style:{height:"200px"},src:"".concat(e.imageUrl[0]),alt:"product-image"}),l.a.createElement("div",null,"Price: EUR ",e.price),l.a.createElement("div",null,"Quantity: ",e.quantity),l.a.createElement("div",null,e.description))))})))},Dt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{component:"div",role:"tabpanel",hidden:this.props.value!==this.props.index,id:"seller-tabpanel-".concat(this.props.index),"aria-labelledby":"seller-tabpanel"},l.a.createElement(Q.Consumer,null,(function(e){var t=e.products,a=e.updateProductData;return l.a.createElement(j.Consumer,null,(function(e){return l.a.createElement(Ct,{products:t,updateProductData:a,user:e})}))})),l.a.createElement(Pt,null)))}}]),t}(n.Component);function St(){var e=Ke(),t=Object(n.useState)(0),a=Object(D.a)(t,2),r=a[0],i=a[1];return l.a.createElement("div",null,l.a.createElement("div",{className:e.root},l.a.createElement(Ve.a,{position:"static"},l.a.createElement(Qe.a,{value:r,onChange:function(e,t){i(t)},"aria-label":"dashboard-tabs",centered:!0},l.a.createElement(Je.a,{label:"Seller's page",id:"simple-tab-0","aria-controls":"simple-tabpanel-0"}),l.a.createElement(Je.a,{label:"Buyer's page",id:"simple-tab-1","aria-controls":"simple-tabpanel-1"}))),l.a.createElement("div",null,l.a.createElement(bt,{value:r,index:0}),l.a.createElement(Dt,{value:r,index:1}))))}var kt=function(e){var t=e.component,a=e.user,n=e.path,r=e.redirectPath,i=void 0===r?"/":r,o=Object(Xe.a)(e,["component","user","path","redirectPath"]);return l.a.createElement(de.b,{path:n,render:function(e){return a?l.a.createElement(t,Object.assign({},e,o,{user:a})):l.a.createElement(de.a,{to:i})}})},Nt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={products:a.props.products,user:a.props.user},a.updateProductData=function(e){a.setState({products:e})},a.setUser=function(e){a.setState({user:e})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(de.b,{exact:!0,path:"/",render:function(t){return l.a.createElement(x,Object.assign({},t,{user:e.state.user,setUser:e.setUser}))}}),l.a.createElement("div",{className:"userPage"},l.a.createElement(w,{value:{user:this.state.user,setUser:this.setUser}},l.a.createElement(De,null),l.a.createElement("div",{className:"wrapper"},l.a.createElement(J,{value:{products:this.state.products,updateProductData:this.updateProductData}},l.a.createElement(de.b,{exact:!0,path:"/signup",user:this.state.user,component:C}),l.a.createElement(de.b,{exact:!0,path:"/login",render:function(t){return l.a.createElement(O,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),l.a.createElement(yt,null,l.a.createElement(de.d,null,l.a.createElement(kt,{exact:!0,path:"/dashboard",user:this.state.user,component:St}),l.a.createElement(de.b,{exact:!0,path:"/products",user:this.state.user,component:ce}),l.a.createElement(kt,{exact:!0,path:"/products/new",user:this.state.user,component:Ge}),l.a.createElement(de.b,{exact:!0,path:"/products/:id",user:this.state.user,component:ze}),l.a.createElement(kt,{exact:!0,path:"/products/edit/:id",component:Le}),l.a.createElement(de.b,{component:U}))))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var At=a(574);g.a.get("/api/auth/loggedin").then((function(e){var t=e.data;g.a.get("/api/products").then((function(e){i.a.render(l.a.createElement(S.a,null,l.a.createElement(At.a,null),l.a.createElement(Nt,{products:e.data,user:t})),document.getElementById("root"))}))})).catch((function(e){console.log(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},78:function(e,t,a){}},[[270,1,2]]]);
//# sourceMappingURL=main.578b490a.chunk.js.map