(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{157:function(e,t,a){},240:function(e,t,a){e.exports=a(465)},245:function(e,t,a){},465:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),i=a.n(l),o=(a(245),a(13)),c=a(10),s=a(16),d=a(17),u=a(18),m=a(19),p=a(8),g=a(68),h=a.n(g),y=a(80),E=a(516),v=a(497),f=a(510),b=a(513),C=a(223),w=a(519),j=a(498),D=a(5),x=a(82),O=a(28),P=a(509),k=function(e){return{card:{maxWidth:100},root:{width:300},filterContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}}},S=(a(157),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=k;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{label:"search",id:"outlined-name-input",type:"search",margin:"normal",className:e.textField,name:"searchText",variant:"outlined",autoComplete:"search",value:this.props.searchText,onChange:this.props.handleChange}),r.a.createElement(v.a,{htmlFor:"outlined-location-simple"},"Location"),r.a.createElement(f.a,{value:this.props.searchCity,onChange:this.props.handleChange,inputProps:{name:"searchCity",id:"searchCity"}},r.a.createElement(b.a,{value:""},r.a.createElement("em",null,"None")),this.props.distinctCity.map((function(e){return r.a.createElement(b.a,{value:e},e)}))),r.a.createElement(v.a,{htmlFor:"outlined-category-simple"},"Category"),r.a.createElement(f.a,{value:this.props.searchCategory,onChange:this.props.handleChange,inputProps:{name:"searchCategory",id:"searchCategory"}},r.a.createElement(b.a,{value:""},r.a.createElement("em",null,"None")),this.props.distinctCategory.map((function(e){return r.a.createElement(b.a,{value:e},e)}))),r.a.createElement(v.a,{htmlFor:"outlined-brand-simple"},"Brand name"),r.a.createElement(f.a,{value:this.props.searchBrand,onChange:this.props.handleChange,inputProps:{name:"searchBrand",id:"searchBrand"}},r.a.createElement(b.a,{value:""},r.a.createElement("em",null,"None")),this.props.distinctBrand.map((function(e){return r.a.createElement(b.a,{value:e},e)}))),r.a.createElement("div",{className:e.root},r.a.createElement(C.a,{id:"range-slider",gutterBottom:!0},"Price range"),r.a.createElement(w.a,{name:"priceValue",value:this.props.priceValue,onChange:this.props.handlePriceChange,valueLabelDisplay:"auto","aria-labelledby":"range-slider",max:this.props.maxPrice})),r.a.createElement("div",{className:e.root},r.a.createElement(O.a,{utils:x.a},r.a.createElement(j.a,{container:!0,justify:"space-around"},r.a.createElement(P.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Filter by availability",name:"selectedDate",value:this.props.selectedDate,onChange:this.props.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}})))))}}]),t}(n.Component)),U=Object(D.a)(k)(S),A=a(43),M=a(38);var F=Object(M.withScriptjs)(Object(M.withGoogleMap)((function(e){var t=Object(n.useState)(null),a=Object(A.a)(t,2),l=a[0],i=a[1];return console.log("testttt",e),Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&i(null)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(M.GoogleMap,{defaultZoom:4,defaultCenter:{lat:-34,lng:150}},e.filteredProduct.map((function(e){return r.a.createElement(M.Marker,{key:e._id,position:{lat:e.location.latitude,lng:e.location.longitude},onClick:function(){i(e)},icon:{url:"/map-marker-alt-solid.svg",scaledSize:new window.google.maps.Size(25,25)}})})),l&&r.a.createElement(M.InfoWindow,{onCloseClick:function(){i(null)},position:{lat:l.location.latitude,lng:l.location.longitude}},r.a.createElement("div",null,r.a.createElement("h2",null,l.title),r.a.createElement("p",null,l.price),r.a.createElement("p",null,l.quantity)))))})));function q(e){return console.log(e),r.a.createElement("div",{style:{width:"40vw",height:"80vh"}},r.a.createElement(F,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyAEEpqstn15A1q4yFwIv81jnDVG7X0hm9Q",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),filteredProduct:e.filteredProduct}))}var L=function(e){return{card:{maxWidth:300},mapListContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center"},listPageContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}},N=a(502),B=a(503),T=a(504),_=a(505),I=a(506),V=a(500),W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],searchText:"",searchCategory:"",searchBrand:"",searchCity:"",priceValue:[20,300],selectedDate:new Date("December 31, 2019")},a.getData=function(){h.a.get("/api/products").then((function(e){console.log(e),a.setState({products:e.data})})).catch((function(e){console.log(e)}))},a.componentDidMount=function(){a.getData()},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.handlePriceChange=function(e,t){a.setState({priceValue:t})},a.handleDateChange=function(e){a.setState({selectedDate:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=Object(m.a)(new Set(this.state.products.map((function(e){return e.category})))),n=Object(m.a)(new Set(this.state.products.map((function(e){return e.brand})))),l=Object(m.a)(new Set(this.state.products.map((function(e){return e.location.city})))),i=this.state.products.filter((function(t){var a=!1===t.isSold,n=t.title.toLowerCase().includes(e.state.searchText.toLowerCase())||t.tags.find((function(t){return t.toLowerCase().includes(e.state.searchText.toLowerCase())})),r=t.category.toLowerCase().includes(e.state.searchCategory.toLowerCase()),l=t.price>=e.state.priceValue[0]&&t.price<=e.state.priceValue[1],i=Date.parse(t.availability)<=Date.parse(e.state.selectedDate);return a&&n&&r&&l&&i}));return r.a.createElement("div",{className:t.listPageContainer},r.a.createElement("h1",null,"Product List"),r.a.createElement(U,{searchText:this.state.searchText,searchCategory:this.state.searchCategory,searchBrand:this.state.searchBrand,searchCity:this.state.searchCity,priceValue:this.state.priceValue,selectedDate:this.state.selectedDate,handleChange:this.handleChange,distinctCategory:a,distinctBrand:n,distinctCity:l,handleDateChange:this.handleDateChange,handlePriceChange:this.handlePriceChange}),r.a.createElement(q,{filteredProduct:i}),r.a.createElement("div",{className:t.mapListContainer},r.a.createElement("div",null,i.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:t.card},r.a.createElement(B.a,null,r.a.createElement(T.a,{component:"img",alt:e.title,height:"140",image:"".concat(e.imageUrl[0]),title:e.title}),r.a.createElement(_.a,null,r.a.createElement(y.b,{to:"/products/".concat(e._id)},r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.title)),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},e.description," ",r.a.createElement("br",null),e.currency," ",e.price))),r.a.createElement(I.a,null,r.a.createElement(V.a,{size:"small",color:"primary"},"Add to wishlist"))))})))))}}]),t}(n.Component),z=Object(D.a)(L)(W),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",imageUrl:[],brand:"",category:"",quantity:0,price:0,currency:"EUR",tags:[],company:"",location:{latitude:null,longitude:null},availability:null,warrantyUntil:null,condition:"",isSold:!1,createdAt:null},a.getData=function(){var e=a.props.match.params.id;h.a.get("/api/products/".concat(e)).then((function(e){a.setState({title:e.data.title,description:e.data.description,imageUrl:e.data.imageUrl,brand:e.data.brand,category:e.data.category,quantity:e.data.quantity,price:e.data.price,currency:e.data.currency,tags:e.data.currency,company:e.data.company,availability:e.data.availability,warrantyUntil:e.data.warrantyUntil,condition:e.data.condition,createdAt:e.data.createdAt})})).catch((function(e){console.log("ERR",e.response),404===e.response.status&&a.setState({error:"Not found"})}))},a.componentDidMount=function(){a.getData()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,n=(e.imageUrl,e.brand),l=e.category,i=e.quantity,o=e.price,c=e.currency,s=e.tags,d=e.company,u=e.availability,m=e.warrantyUntil,p=e.condition,g=e.isSold,h=e.createdAt;return r.a.createElement("div",null,r.a.createElement("h1",null,"Product Details Page"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,t),r.a.createElement("div",null,a,n,s,l,i,o,c,d,u,m,p,g,h)))}}]),t}(n.Component),G=a(216),K=a(496),Q=a(501),X=a(466),H=a(518),J=a(507),Z=a(511),$=a(220),Y=a.n($),ee=a(83),te=a.n(ee);te.a.setApiKey("AIzaSyAEEpqstn15A1q4yFwIv81jnDVG7X0hm9Q"),te.a.enableDebug();var ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={center:{lat:a.props.center.lat,lng:a.props.center.lng}},a.getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_1"===e[t].types[0])return e[t].long_name},a.getCountry=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"country"===e[t].types[0])return e[t].long_name},a.onPlaceSelected=function(e){if(console.log(e),e.formatted_address){var t=e.formatted_address,n=e.address_components,r=a.getCity(n),l=a.getCountry(n),i=e.geometry.location.lat(),o=e.geometry.location.lng();a.props.getMapData(t,r,l,i,o)}else te.a.fromAddress(e.name).then((function(e){console.log(e);var t=e.results[0],n=t.formatted_address,r=t.address_components,l=a.getCity(r),i=a.getCountry(r),o=t.geometry.location.lat,c=t.geometry.location.lng;a.props.getMapData(n,l,i,o,c)})).then((function(e){console.log(e)}))},a.onMarkerDrag=function(e){console.log(e);var t=e.latLng.lat(),n=e.latLng.lng();te.a.fromLatLng(t,n).then((function(e){var r=e.results[0].formatted_address,l=e.results[0].address_components,i=a.getCity(l),o=a.getCountry(l);a.props.getMapData(r,i,o,t,n)})).catch((function(e){console.log(e)}))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){var e=this,t=Object(M.withScriptjs)(Object(M.withGoogleMap)((function(t){return r.a.createElement(M.GoogleMap,{google:e.props.google,defaultZoom:e.props.zoom,center:{lat:e.props.mapPosition.lat,lng:e.props.mapPosition.lng}},r.a.createElement(M.Marker,{google:e.props.google,name:e.props.address,draggable:!0,onDragEnd:e.onMarkerDrag,position:{lat:e.props.markerPosition.lat,lng:e.props.markerPosition.lng}}),r.a.createElement(M.Marker,null),r.a.createElement(Y.a,{style:{width:"100%",height:"40px",paddingLeft:"16px",marginTop:"2px",marginBottom:"100px"},onPlaceSelected:e.onPlaceSelected}))})));return void 0!==this.props.center.lat?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAEEpqstn15A1q4yFwIv81jnDVG7X0hm9Q&libraries=places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:this.props.height}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),r.a.createElement("p",null,this.props.address))):r.a.createElement("div",{style:{height:this.props.height}})}}]),t}(n.Component),ne=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",imageUrl:[],brand:"",category:"",quantity:0,price:0,currency:"EUR",tags:[],company:"",location:{latitude:52.52,longitude:13.405,city:"",address:"",country:""},markerPosition:{lat:52.52,lng:13.405},availability:null,warrantyUntil:null,condition:"",createdAt:null},a.handleSubmit=function(e){e.preventDefault(),h.a.post("/api/products/new",{title:a.state.title,description:a.state.description,imageUrl:a.state.imageUrl,brand:a.state.brand,tags:a.state.tags,category:a.state.category,quantity:a.state.quantity,price:a.state.price,currency:a.state.currency,company:a.state.company,latitude:a.state.location.latitude,longitude:a.state.location.longitude,city:a.state.location.city,address:a.state.location.address,country:a.state.location.country,availability:a.state.availability,warrantyUntil:a.state.warrantyUntil,condition:a.state.condition,createdAt:a.state.created_at}).then((function(e){console.log("[AddProduct.js] handleSubmit event starting..."),console.log("latitude",a.state.location.latitude),a.setState({title:"",description:"",imageUrl:[],brand:"",category:"",quantity:0,price:0,currency:"EUR",tags:[],company:"",location:{latitude:null,longitude:null,city:"",address:"",country:""},availability:null,warrantyUntil:null,condition:"",createdAt:null}),console.log("[AddProduct.js] response.data:",e.data)})).catch((function(e){console.log("[AddProduct.js]: response data",e)}))},a.handleDateChange=function(e){a.setState({availability:e}),console.log("availability:",e)},a.handleDateChangeWarrantyUntil=function(e){a.setState({warrantyUntil:e}),console.log("warrantyUntil:",e)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r)),console.log("handleChange event.target.value",e.target.value)},a.imageHandler=function(e){console.log(e.target.files[0]),a.setState({imageUrl:[].concat(Object(m.a)(a.state.imageUrl),[e.target.files[0].name])})},a.getMapData=function(e,t,n,r,l){a.setState({location:{latitude:r,longitude:l,city:n,address:e,country:t},markerPosition:{lat:r,lng:l}})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Object(G.a)((function(e){return{button:{margin:e.spacing(1)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},input:{display:"none"},dense:{marginTop:e.spacing(2)},menu:{width:200},root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{onSubmit:this.handleSubmit},r.a.createElement(E.a,{required:!0,id:"outlined-title-input",label:"Title",className:e.textField,type:"text",name:"title",placeholder:"e.g. Nestl\xe9 D1234 Coffee Maker",autoComplete:"title",margin:"normal",variant:"outlined",value:this.state.title,onChange:this.handleChange}),r.a.createElement(E.a,{id:"outlined-description-input",label:"Description",className:e.textField,type:"text",name:"description",autoComplete:"description",margin:"normal",variant:"outlined",value:this.state.description,onChange:this.handleChange}),r.a.createElement(E.a,{id:"outlined-brand-input",label:"Brand",className:e.textField,type:"text",name:"brand",placeholder:"e.g. Apple",autoComplete:"brand",margin:"normal",variant:"outlined",value:this.state.brand,onChange:this.handleChange}),r.a.createElement(K.a,{variant:"outlined",className:e.formControl},r.a.createElement(v.a,{htmlFor:"outlined-category-simple"},"Category"),r.a.createElement(f.a,{value:this.state.category,onChange:this.handleChange,inputProps:{name:"category",id:"outlined-category-simple"}},r.a.createElement(b.a,{value:"Category"},r.a.createElement("em",null,"Select...")),r.a.createElement(b.a,{value:"Food"},"Food"),r.a.createElement(b.a,{value:"Textile"},"Textile"),r.a.createElement(b.a,{value:"Energy"},"Energy"),r.a.createElement(b.a,{value:"Architecture"},"Architecture"),r.a.createElement(b.a,{value:"Woodwork"},"Woodwork"),r.a.createElement(b.a,{value:"Art"},"Art"),r.a.createElement(b.a,{value:"Economics"},"Economics"),r.a.createElement(b.a,{value:"Science"},"Science"),r.a.createElement(b.a,{value:"Education"},"Education"),r.a.createElement(b.a,{value:"Manufactory"},"Manufactory"))),r.a.createElement(E.a,{required:!0,id:"outlined-quantity-input",label:"Quantity",className:e.textField,type:"number",name:"quantity",autoComplete:"quantity",margin:"normal",variant:"outlined",value:this.state.quantity,onChange:this.handleChange}),r.a.createElement(E.a,{id:"outlined-adornment-price",label:"Price",className:e.textField,type:"number",name:"price",margin:"normal",variant:"outlined",value:this.state.price,onChange:this.handleChange,InputProps:{startAdornment:r.a.createElement(Q.a,{position:"start"},"EUR")}}),r.a.createElement(E.a,{id:"outlined-company-input",label:"Company Name",className:e.textField,type:"text",name:"company",placeholder:"IchiBizz Inc",autoComplete:"company",margin:"normal",variant:"outlined",value:this.state.company,onChange:this.handleChange}),r.a.createElement(E.a,{disabled:!0,id:"outlined-location",label:"Location",className:e.textField,type:"text",name:"address",placeholder:"e.g. Berlin",margin:"normal",variant:"outlined",value:this.state.location.address}),r.a.createElement(O.a,{utils:x.a},r.a.createElement(j.a,{container:!0,justify:"space-around"},r.a.createElement(P.a,{disableToolbar:!0,name:"availability",variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Availability Date",value:this.state.availability,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"Change Date"}}))),r.a.createElement(O.a,{utils:x.a},r.a.createElement(j.a,{container:!0,justify:"space-around"},r.a.createElement(P.a,{disableToolbar:!0,name:"warrantyUntil",variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Warranty until",value:this.state.warrantyUntil,onChange:this.handleDateChangeWarrantyUntil,KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(K.a,{required:!0,component:"fieldset",className:e.formControl},r.a.createElement(X.a,{component:"legend"},"Condition"),r.a.createElement(H.a,{"aria-label":"condition",name:"condition",value:this.state.condition,onChange:this.handleChange},r.a.createElement(J.a,{value:"used",control:r.a.createElement(Z.a,null),label:"used",name:"condition"}),r.a.createElement(J.a,{value:"new",control:r.a.createElement(Z.a,null),label:"new",name:"condition"}))),r.a.createElement("label",{htmlFor:"imageUrl"},"Upload Image(s): "),r.a.createElement("input",{type:"file",multiple:!0,id:"imageUrl",name:"imageUrl",onChange:this.imageHandler}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.a,{type:"submit",variant:"outlined",className:e.button,onClick:this.handleSubmit,noValidate:!0},"Create")),r.a.createElement(ae,{google:this.props.google,center:{lat:52.52,lng:13.405},height:"300px",zoom:12,getMapData:this.getMapData,markerPosition:{lat:this.state.markerPosition.lat,lng:this.state.markerPosition.lng},address:this.state.location.address,country:this.state.location.country,city:this.state.location.city,mapPosition:{lat:this.state.location.latitude,lng:this.state.location.longitude}}))}}]),t}(n.Component),re=a(53),le=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(re.a,{exact:!0,path:"/products",component:z}),r.a.createElement(re.a,{exact:!0,path:"/products/:id",component:R}),r.a.createElement(re.a,{exact:!0,path:"/products/new",component:ne}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=a(508);i.a.render(r.a.createElement(y.a,null,r.a.createElement(ie.a,null),r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[240,1,2]]]);
//# sourceMappingURL=main.c876767f.chunk.js.map